/*C12*/SET SCHEMA PUBLIC
alter table account drop constraint FKnnwpo0lfq4xai1rs6887sx02k
alter table account_operations drop constraint FK3namuh51vuenmj6egwsuufue2
alter table account_operations drop constraint FKdp3puedyj3f4rjrv7o7htrv8k
alter table customer drop constraint FKn9x2k8svpxj3r328iy1rpur83
alter table operation drop constraint FKloy20r01mn4truqqu460w3j9q
drop table account if exists
drop table account_operations if exists
drop table customer if exists
drop table operation if exists
create table account (id bigint generated by default as identity (start with 1), number varchar(255) not null, balance bigint not null check (balance>=0), customer_id bigint, primary key (id))
create table account_operations (account_id bigint not null, operations_id bigint not null)
create table customer (id bigint generated by default as identity (start with 1), firstName varchar(255) not null, lastName varchar(255) not null, account_id bigint, primary key (id))
create table operation (id bigint generated by default as identity (start with 1), amount bigint, date timestamp, type varchar(255), account_id bigint, primary key (id))
alter table account_operations add constraint UK_rd5xyjnhok692qkedgsltu9i0 unique (operations_id)
alter table account add constraint FKnnwpo0lfq4xai1rs6887sx02k foreign key (customer_id) references customer
alter table account_operations add constraint FK3namuh51vuenmj6egwsuufue2 foreign key (operations_id) references operation
alter table account_operations add constraint FKdp3puedyj3f4rjrv7o7htrv8k foreign key (account_id) references account
alter table customer add constraint FKn9x2k8svpxj3r328iy1rpur83 foreign key (account_id) references account
alter table operation add constraint FKloy20r01mn4truqqu460w3j9q foreign key (account_id) references account
